// tela: para informar o webhook (como um campo input, armazenar esse valor em uma variável e dentro da função implementá-la)

// travas no cadastro, como fazer?









// const [time, setTime] = useState([]);
// const [selectedTime, setSelectedTime] = useState('');
// const [loadingTime, setLoadingTime] = useState(true);
// const [errorTime, setErrorTime] = useState(null);

// const [produto, setProduto] = useState([]);
// const [selectedProduto, setSelectedProduto] = useState('');
// const [loadingProduto, setLoadingProduto] = useState(true);
// const [errorProduto, setErrorProduto] = useState(null);

// const [funcionario, setFuncionario] = useState([]);
// const [selectFuncionario, setSelectedFuncionario] = useState('');
// const [loadingFuncionario, setLoadingFuncionario] = useState(true);
// const [errorFuncionario, setErrorFuncionario] = useState(null);

// const [funil, setFunil] = useState([]);
// const [selectFunil, setSelectedFunil] = useState('');
// const [loadingFunil, setLoadingFunil] = useState(true);
// const [errorFunil, setErrorFunil] = useState(null);

// const [fase, setFase] = useState([]);
// const [selectFase, setSelectedFase] = useState('');
// const [loadingFase, setLoadingFase] = useState(true);
// const [errorFase, setErrorFase] = useState(null);

// const fetchTimes = async () => {
//     try {
//         const response = await fetch('https://agltelecom.bitrix24.com.br/rest/8/m4fwz47k43hly413/department.get?select[]=name');
//         if (!response.ok) {
//             throw new Error('Erro ao buscar os times');
//         }
//         const data = await response.json();
//         console.log(data.result);
//         setTime(data.result || []);
//     } catch (err) {
//         setErrorTime(err.message);
//     } finally {
//         setLoadingTime(false);
//     }
// };

// const fetchProduto = async () => {
//     try {
//         const response = await fetch('https://agltelecom.bitrix24.com.br/rest/8/m4fwz47k43hly413/crm.product.list');
//         if (!response.ok) {
//             throw new Error('Erro ao buscar os produtos');
//         }
//         const data = await response.json();
//         // console.log(data.result);
//         setProduto(data.result || []);
//     } catch (err) {
//         setErrorProduto(err.message);
//     } finally {
//         setLoadingProduto(false);
//     }
// };

// const fetchFuncionario = async () => {
//     setLoadingFuncionario(true); 
//     try {
//         const response = await fetch('https://agltelecom.bitrix24.com.br/rest/8/m4fwz47k43hly413/user.get');
//         if (!response.ok) {
//             throw new Error('Erro ao buscar os funcionários');
//         }
//         const data = await response.json();
//         const funcionariosCompletos = data.result.map(funcionario => ({
//             id: funcionario.id,
//             fullName: `${funcionario.NAME} ${funcionario.LAST_NAME}` // Juntando o nome completo
//         }));
//         console.log(funcionariosCompletos.result); 
//         setFuncionario(funcionariosCompletos || []);
//     } catch (err) {
//         setErrorFuncionario(err.message);
//     } finally {
//         setLoadingFuncionario(false);
//     }
// };   

// const fetchFunil = async () => {
//     setLoadingFunil(true);
//     try {
//         const response = await fetch('https://agltelecom.bitrix24.com.br/rest/8/m4fwz47k43hly413/crm.category.list?entityTypeId=2');
//         if (!response.ok) {
//             throw new Error('Erro ao buscar funis');
//         }
//         const data = await response.json();
//         console.log('Funis encontrados -> ',data);
//         setFunil(Array.isArray(data.result) ? data.result : []);
//     } catch (e) {
//         setErrorFunil(e.message);
//     } finally {
//         setLoadingFunil(false);
//     }
// }

// // para o fetch a seguir funcionar, preciso armazenar o id do funil selecionado e após disso passar no fetch daqui
// const fetchFase = async () => {
//     setLoadingFase(true);
//     try {
//         const response = await fetch(`https://agltelecom.bitrix24.com.br/rest/8/m4fwz47k43hly413/crm.dealcategory.stage.list?id=${idFunil}`);
//         if (!response.ok) {
//             throw new Error('Erro ao buscar fases');
//         }
//         const data = await response.json();
//         console.log('Fases encontradas -> ', data);
//         setFase(Array.isArray(data.result) ? data.result : []);
//     } catch (e) {
//         setErrorFase(e.message);
//     } finally {
//         selectFase(false);
//     }
// }